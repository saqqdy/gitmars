#!/usr/bin/env node
"use strict";const{program:r}=require("commander"),i=require("path"),e=require("shelljs"),{success:o,warning:s,isGitProject:t}=require("./js/index"),c=require("./js/gitRevParse"),a=i.join(__dirname,"../cache"),{root:n,gitDir:g}=c();r.name("gitm clean").description("清理gitmars缓存").option("-f, --force","强制清理",!1).action((r=>{t()?(e.rm(g+"/.gitmarscommands",g+"/.gitmarslog"),r.force&&(e.echo(s("您输入了--force，将同时清理本地gitmars配置文件")),e.rm(n+"/gitmarsconfig.json",n+"/.gitmarsrc"))):e.echo(s("当前目录不是git项目目录")),e.rm(a+"/buildConfig.json",a+"/buildConfig.txt"),e.echo(o("清理完毕"))})),r.parse(process.argv);
