"use strict";const i=require("shelljs"),t=require("./apollo"),{error:o}=require("./index");module.exports=async function(r,e={}){const n=await t(),{silent:c=!0,url:l}=e;let a=[];n.gitNotificationGroupUrl||l?(l?a=[l]:n.gitNotificationGroupUrl&&(a="string"==typeof n.gitNotificationGroupUrl?[n.gitNotificationGroupUrl]:n.gitNotificationGroupUrl),r=r.replace(/\s/g,""),a.forEach((()=>{i.exec(`curl -i -H "Content-Type: application/json" -X POST -d "{\\"content\\":\\"${r}\\"}" "${l||n.gitNotificationGroupUrl}"`,{silent:c})}))):i.echo(o("没有配置群消息推送地址"))};
