"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("shelljs"),{getCurrent:t}=require("../index"),a=require("./getCommand"),n=require("./cleanConfig"),i=require("../../conf/combine"),r=require("../../conf/end"),c=require("../../conf/update"),s=require("../../conf/branch"),o=require("../../conf/build"),u=require("../../conf/start"),p=require("../../conf/copy"),m=require("../../conf/get"),x=require("../../conf/save"),g=require("../../conf/revert"),d=require("../../conf/link"),l=require("../../conf/unlink"),y=require("../../conf/postmsg"),{create:f,publish:q,update:w,clean:b}=require("../../conf/admin"),h=t().split("/")[0],v=["feature","bugfix","support"],k={create:async()=>{const t=n(f),i="gitm admin create "+await a(t);e.exec(i)},publish:async()=>{const t=n(q),i="gitm admin publish "+await a(t);e.exec(i)},update:async()=>{const t=n(w),i="gitm admin update "+await a(t);e.exec(i)},clean:async()=>{const t=n(b),i="gitm admin clean "+await a(t);e.exec(i)}};exports.admin=k,exports.branch=async()=>{const t=n(s),i="gitm branch "+await a(t);e.exec(i)},exports.build=async()=>{const t=n(o),i="gitm build "+await a(t);e.exec(i)},exports.combine=async()=>{let t=[],r=[],c=[];if(v.includes(h))switch(r=["type","name"],h){case"feature":case"support":t=["--as-feature"]}else t=["--as-feature","--no-bugfix"],c=["type","name"];const s=n(i,{delOptions:t,requiredOptions:[],delArgs:r,requiredArgs:c}),o="gitm combine "+await a(s);e.exec(o)},exports.copy=async()=>{const t=n(p),i="gitm copy "+await a(t);e.exec(i)},exports.end=async()=>{let t=[],i=[];v.includes(h)?t=["type","name"]:i=["type","name"];const c=n(r,{delArgs:t,requiredArgs:i}),s="gitm end "+await a(c);e.exec(s)},exports.get=async()=>{const t=n(m),i="gitm get "+await a(t);e.exec(i)},exports.link=async()=>{const t=n(d),i="gitm link "+await a(t);e.exec(i)},exports.postmsg=async()=>{const t=n(y),i="gitm postmsg "+await a(t);e.exec(i)},exports.revert=async()=>{const t=n(g),i="gitm revert "+await a(t);e.exec(i)},exports.save=async()=>{const t=n(x),i="gitm save "+await a(t);e.exec(i)},exports.start=async()=>{const t=n(u),i="gitm start "+await a(t);e.exec(i)},exports.unlink=async()=>{const t=n(l),i="gitm unlink "+await a(t);e.exec(i)},exports.update=async()=>{let t=[],i=[];v.includes(h)?t=["type","name"]:i=["type","name"];const r=n(c,{delArgs:t,requiredArgs:i}),s="gitm update "+await a(r);e.exec(s)};
