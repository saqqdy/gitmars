"use strict";var e=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;const{warning:a}=require("../index");module.exports=(n,{options:o,validator:i,transform:l},u)=>{if("checkbox"===u){if(!o.length)return null;const e={type:u,message:"请选择",name:n,choices:[],validate:e=>{if(i){let r=!0;return i(e,o,(e=>{e&&(r=e.message)})),r}return!0}};return o.forEach((r=>{e.choices.push({name:r.description||"",value:r.long,checked:r.recommend||!1})})),e}if("input"===u){const n=[];return o.forEach((o=>{var l=o,{validator:u,transformer:s}=l,c=((a,n)=>{var o={};for(var i in a)r.call(a,i)&&n.indexOf(i)<0&&(o[i]=a[i]);if(null!=a&&e)for(var i of e(a))n.indexOf(i)<0&&t.call(a,i)&&(o[i]=a[i]);return o})(l,["validator","transformer"]);u&&(i=u);const d={type:"input",name:c.name,message:`${c.description||"请输入参数"+c.name+"的值"}${c.required?"":a("(可不填"+("defaultValue"in c&&""!==c.defaultValue?'，默认"'+c.defaultValue+'"':"")+")")}`,transformer:(e,r,t)=>s?s instanceof Function?s(e,r,t,c):void 0:e,validate:e=>{let r=!0;return!e&&c.required&&(r="请填写"+c.description),i&&!0===r&&i(e,c,(e=>{e&&(r=e.message)})),r}};"defaultValue"in c&&""!==c.defaultValue&&(d.defaultValue=c.defaultValue),n.push(d)})),n}};
