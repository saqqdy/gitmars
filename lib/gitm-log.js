#!/usr/bin/env node
"use strict";const{program:e}=require("commander"),r=require("shelljs"),{options:s,args:t}=require("./conf/log"),{error:o,getLogs:i,isGitProject:a}=require("./js/index"),{createArgs:c}=require("./js/tools");a()||(r.echo(o("当前目录不是git项目目录")),r.exit(1)),e.name("gitm log").usage("[branche]").description("日志查询"),t.length>0&&e.arguments(c(t)),s.forEach((r=>{e.option(r.flags,r.description,r.defaultValue)})),e.action((async(e,s)=>{const t=i({lastet:s.lastet,limit:s.limit,branches:e});console.log(t),r.exit(1)})),e.parse(process.argv);
