!function(){function e(e,t,n,a,r,i,c){try{var o=e[i](c),u=o.value}catch(p){return void n(p)}o.done?t(u):Promise.resolve(u).then(a,r)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(r,i){var c=t.apply(n,a);function o(t){e(c,r,i,o,u,"next",t)}function u(t){e(c,r,i,o,u,"throw",t)}o(void 0)}))}}var n=document.createElement("style");n.innerHTML=".page[data-v-751be222]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page[data-v-751be222] .v3-collapse{border-top-color:#6a8bad}.page[data-v-751be222] .v3-collapse-item__content{color:#fff}.page[data-v-751be222] .v3-collapse-item__header,.page[data-v-751be222] .v3-collapse-item__wrap{border-bottom-color:#6a8bad;background:none;color:#fff}.page h1[data-v-751be222]{height:32px;padding:16px;line-height:32px;font-size:28px;font-weight:300;background:#344a5f;display:flex;justify-content:space-between;align-items:center}.page .cont[data-v-751be222]{flex:1;display:flex;justify-content:stretch;align-items:stretch}.page .cont .nav[data-v-751be222]{width:300px;overflow-y:auto;background:#2c3e50;height:100%}.page .cont .nav dl[data-v-751be222]{margin-bottom:10px}.page .cont .nav dt[data-v-751be222]{padding:0 16px;height:20px;line-height:20px;font-size:12px;color:#6a8bad}.page .cont .nav dd[data-v-751be222]{height:44px;line-height:44px;padding:0 16px;font-size:14px;display:flex;justify-content:space-between;align-items:center}.page .cont .nav dd[data-v-751be222]:hover{color:#fff;background:rgba(66,185,131,.05)}.page .cont .nav dd.active[data-v-751be222]{color:#42b983;background:rgba(66,185,131,.08)!important}.page .cont .main[data-v-751be222]{flex:1;padding:16px;background:#304457;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page .cont .main h3[data-v-751be222]{font-size:18px;line-height:30px;margin-bottom:16px;font-weight:normal;display:flex;justify-content:space-between;align-items:center}.page .cont .main h3 p[data-v-751be222]{font-size:12px;background:#2c3e50;line-height:18px;padding:8px;border-radius:3px}.page .cont .main .xterm[data-v-751be222]{height:50%;min-height:408px}\n",document.head.appendChild(n),System.register(["./vendor-legacy.f6612493.js","./index-legacy.4d99e615.js","./index-legacy.af2afef0.js","./use-current-instance-legacy.eb9b1d5c.js"],(function(e){"use strict";var n,a,r,i,c,o,u,p,s,d,l,f,g,m,h,v,x,b,y,j,k,w,_,z,R,C;return{setters:[function(e){n=e.I,a=e.a8,r=e.a9,i=e.r,c=e.B,o=e.ah,u=e.g,p=e.o,s=e.j,d=e.i,l=e.e,f=e.w,g=e.F,m=e.ab,h=e.k,v=e.t,x=e.h,b=e.q,y=e.v,j=e.x,k=e.p},function(e){w=e.X},function(e){_=e._,z=e.T,R=e.S},function(e){C=e.u}],execute:function(){var T={name:"ControlTasks",components:{Xterm:w},setup:function(){return t(regeneratorRuntime.mark((function e(){var u,p,s,d,l,f,g,m,h,v,x,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n(z,{}),p=u.getTerminal,s=n(R,{}),d=s.socket,l=C(),f=l.globalProperties.$axios,a(),g=r(),m=i({project:{id:"",name:"",path:""},scripts:[],terminal:{name:""},ready:!1}),c((function(){})),o((function(){})),h=function(){var e=t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({url:"/common/project/list",data:{id:g.query.id}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({url:"/cmd/fs/read",data:{path:"".concat(m.project.path,"/package.json")}});case 2:return t=e.sent,n=t.data.scripts,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){m.terminal&&d.emit(m.terminal.name+"-input"," ".concat(e,"\r"))},b=function(e){x("yarn run ".concat(e))},e.next=14,h();case 14:return m.project=e.sent,e.next=17,v();case 17:return m.scripts=e.sent,e.next=20,f({url:"/cmd/cd",data:{dir:m.project.path}});case 20:return m.terminal=p&&p(m.project.id,m.project.path),m.ready=!0,e.abrupt("return",{data:m,exec:x,run:b,route:g});case 23:case"end":return e.stop()}}),e)})))()}},P=function(e){return y("data-v-751be222"),e=e(),j(),e},X={key:0,class:"page"},q=b(" tasks "),I=b("创建分支"),S={class:"cont"},B={class:"nav"},E={key:0,class:"bugfix"},F=P((function(){return d("dt",null,"脚本指令",-1)})),H=b("执行"),L={class:"main"},M=P((function(){return d("span",null,[d("span",{class:"iconfont icon-layout"}),b(" 当前分支： ")],-1)}));e("default",_(T,[["render",function(e,t,n,a,r,i){var c=u("v3-button"),o=u("Xterm");return a.data.ready?(p(),s("div",X,[d("h1",null,[q,d("p",null,[l(c,{type:"primary"},{default:f((function(){return[I]})),_:1})])]),d("div",S,[d("div",B,[Object.keys(a.data.scripts).length>0?(p(),s("dl",E,[F,(p(!0),s(g,null,m(a.data.scripts,(function(e,t){return p(),s("dd",{class:k({active:!1}),key:t},[b(v(t)+" ",1),l(c,{type:"primary",size:"mini",onClick:function(e){return a.run(t)},plain:""},{default:f((function(){return[H]})),_:2},1032,["onClick"])])})),128))])):h("",!0)]),d("div",L,[d("h3",null,[M,d("p",null,v(a.data.project.path),1)]),a.data.project?(p(),x(o,{key:0,ref:"xterm",class:"xterm",id:a.data.project.id,path:a.data.project.path},null,8,["id","path"])):h("",!0)])])])):h("",!0)}],["__scopeId","data-v-751be222"]]))}}}))}();
