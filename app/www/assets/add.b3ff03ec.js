var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;import{M as p,a9 as l,aa as c,r as i,o as d,j as h,i as u,J as m,ae as f,u as w,v as b,x as j,q as v}from"./vendor.75a2e4ba.js";import{u as y}from"./use-current-instance.81fdcf70.js";import{_ as x}from"./index.cf835189.js";const g=a=>(b("data-v-5a3d0646"),a=a(),j(),a),O={class:"project-add"},P={class:"content"},q=g((()=>u("h2",null,"导入项目",-1))),k={class:"fold"},M=[g((()=>u("span",{class:"iconfont icon-plus-square-fill"},null,-1))),v("导入该项目")];const _=p((B=((a,e)=>{for(var t in e||(e={}))o.call(e,t)&&n(a,t,e[t]);if(s)for(var t of s(e))r.call(e,t)&&n(a,t,e[t]);return a})({},{name:"ProjectAdd"}),e(B,t({setup:function(a,{expose:e}){const{globalProperties:{$axios:t,$box:s}}=y(),o=l();c();const r=i({path:"/Users/saqqdy/www/saqqdy/gitmars"}),n=async()=>{r.path||alert("请输入项目完整路径"),await new Promise(((a,e)=>{t({url:"/common/project/check",data:{path:r.path}}).then((({data:{code:e,message:t}={}})=>{0!==e?(s(null,{width:"320px",height:"80px",message:t,showHeader:!1,showMax:!1,showBtn:!1}),a(!1)):a(!0)})).finally((()=>{a(!1)}))}))&&t({url:"/common/project/add",type:"post",data:{path:r.path}}).then((()=>{s(null,{width:"320px",height:"80px",message:"操作成功！",showHeader:!1,showMax:!1,showBtn:!1}),o.push("/project/list")}))};return e({form:r,add:n}),(a,e)=>(d(),h("div",O,[u("div",P,[q,u("div",k,[m(u("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>w(r).path=a),placeholder:"请输入项目完整路径"},null,512),[[f,w(r).path,void 0,{trim:!0}]])]),u("div",{class:"btn"},[u("a",{class:"link",href:"javascript:;",onClick:n,type:"button"},M)])])]))}}))));var B,H=x(_,[["__scopeId","data-v-5a3d0646"]]);export{H as default};
