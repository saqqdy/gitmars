!function(){function t(t,e,n,a,r,i,c){try{var o=t[i](c),d=o.value}catch(s){return void n(s)}o.done?e(d):Promise.resolve(d).then(a,r)}function e(e){return function(){var n=this,a=arguments;return new Promise((function(r,i){var c=e.apply(n,a);function o(e){t(c,r,i,o,d,"next",e)}function d(e){t(c,r,i,o,d,"throw",e)}o(void 0)}))}}var n=document.createElement("style");n.innerHTML=".page[data-v-2d6f5dfa]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page[data-v-2d6f5dfa] .v3-collapse{border-top-color:#6a8bad}.page[data-v-2d6f5dfa] .v3-collapse-item__content{color:#fff}.page[data-v-2d6f5dfa] .v3-collapse-item__header,.page[data-v-2d6f5dfa] .v3-collapse-item__wrap{border-bottom-color:#6a8bad;background:none;color:#fff}.page h1[data-v-2d6f5dfa]{height:32px;padding:16px;line-height:32px;font-size:28px;font-weight:300;background:#344a5f;display:flex;justify-content:space-between;align-items:center}.page .cont[data-v-2d6f5dfa]{flex:1;display:flex;overflow:hidden;justify-content:stretch;align-items:stretch}.page .cont .nav[data-v-2d6f5dfa]{width:300px;overflow-y:auto;background:#2c3e50;height:100%}.page .cont .nav dl[data-v-2d6f5dfa]{margin-bottom:10px}.page .cont .nav dt[data-v-2d6f5dfa]{padding:0 16px;height:20px;line-height:20px;font-size:12px;color:#6a8bad}.page .cont .nav dd[data-v-2d6f5dfa]{height:44px;line-height:44px;padding:0 16px;font-size:14px;display:flex;justify-content:space-between;align-items:center}.page .cont .nav dd[data-v-2d6f5dfa]:hover{color:#fff;background:rgba(66,185,131,.05)}.page .cont .nav dd.active[data-v-2d6f5dfa]{color:#42b983;background:rgba(66,185,131,.08)!important}.page .cont .main[data-v-2d6f5dfa]{flex:1;padding:16px;background:#304457;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;height:100%}.page .cont .main h3[data-v-2d6f5dfa]{font-size:18px;line-height:30px;margin-bottom:16px;font-weight:400;display:flex;justify-content:space-between;align-items:center}.page .cont .main h3 p[data-v-2d6f5dfa]{font-size:12px;background:#2c3e50;line-height:18px;padding:8px;border-radius:3px}.page .cont .main .xterm[data-v-2d6f5dfa]{height:calc(100% - 82px);min-height:408px}\n",document.head.appendChild(n),System.register(["./index-legacy.32affd6d.js","./index-legacy.6808334a.js","./use-current-instance-legacy.f2bf458f.js","./vendor/element-plus_2.1.8.js-legacy.f363497d.js","./vendor/axios-ex_2.2.4.js-legacy.8a611643.js","./vendor/axios_0.24.0.js-legacy.e2791d74.js","./vendor/xterm_4.18.0.js-legacy.c0c15c12.js","./vendor/qs_6.10.3.js-legacy.ad26dd35.js","./vendor/uuid_8.3.2.js-legacy.5043e95d.js","./vendor/dayjs_1.11.0.js-legacy.79d16a7c.js","./vendor/lodash-es_4.17.21.js-legacy.ae35924e.js"],(function(t){"use strict";var n,a,r,i,c,o,d,s,u,f,p,l,g,v,h,m,x,y,j,b,k,w,_,z,C,I,R,S;return{setters:[function(t){n=t._},function(t){a=t._,r=t.o,i=t.u,c=t.a,o=t.T,d=t.S},function(t){s=t.u},function(t){u=t.d,f=t.r,p=t.f,l=t.o,g=t.y,v=t.x,h=t.e,m=t.v,x=t.F,y=t.a4,j=t.z,b=t.D,k=t.c,w=t.i,_=t.C,z=t.I,C=t.J,I=t.a,R=t.b,S=t.B},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var T=u({name:"ControlTasks",components:{Xterm:n},setup:function(){return e(regeneratorRuntime.mark((function t(){var n,a,u,g,v,h,m,x,y,j,b,k,_,z,C,I,R;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=w(o,{}),a=n.getTerminal,u=w(d,{}),g=u.socket,v=s(),h=v.globalProperties.$axios,m=i(),x=c(),y=window.innerWidth,j=window.innerHeight,b=f({project:{id:"",name:"",path:""},scripts:[],terminal:{name:""},ready:!1}),k=p((function(){return"tasks-"+b.project.id})),l((function(){})),r((function(){})),_=function(){var t=e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h({url:"/common/project/list",data:{id:x.query.id}});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=e(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h({url:"/cmd/fs/read",data:{path:"".concat(b.project.path,"/package.json")}});case 2:return e=t.sent,n=e.data.scripts,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){m.push("/project/list")},I=function(t){b.terminal&&g.emit(b.terminal.name+"-input"," ".concat(t,"\r"))},R=function(t){I("yarn run ".concat(t))},t.next=18,_();case 18:return b.project=t.sent,t.next=21,z();case 21:return b.scripts=t.sent,t.next=24,h({url:"/cmd/cd",data:{dir:b.project.path}});case 24:return b.terminal=a&&a(k.value,b.project.path,parseInt(String((y-60-300-32)/7.05)),parseInt(String((j-64-32-34)/17.6))),b.ready=!0,t.abrupt("return",{data:b,terminalID:k,back:C,exec:I,run:R,route:x});case 27:case"end":return t.stop()}}),t)})))()}}),D=function(t){return z("data-v-2d6f5dfa"),t=t(),C(),t},P={key:0,class:"page"},q=_(" tasks "),H=_(" 返回 "),B={class:"cont"},E={class:"nav"},F={key:0,class:"bugfix"},J=D((function(){return v("dt",null,"脚本指令",-1)})),L=_(" 执行 "),M={class:"main"},O=D((function(){return v("span",null,[v("span",{class:"iconfont icon-layout"}),_(" 当前分支： ")],-1)}));t("default",a(T,[["render",function(t,e,a,r,i,c){var o=I("v3-button"),d=n;return t.data.ready?(R(),g("div",P,[v("h1",null,[q,v("p",null,[h(o,{type:"default",onClick:t.back},{default:m((function(){return[H]})),_:1},8,["onClick"])])]),v("div",B,[v("div",E,[Object.keys(t.data.scripts).length>0?(R(),g("dl",F,[J,(R(!0),g(x,null,y(t.data.scripts,(function(e,n){return R(),g("dd",{class:S({active:!1}),key:n},[_(b(n)+" ",1),h(o,{type:"primary",size:"mini",onClick:function(e){return t.run(n)},plain:""},{default:m((function(){return[L]})),_:2},1032,["onClick"])])})),128))])):j("",!0)]),v("div",M,[v("h3",null,[O,v("p",null,b(t.data.project.path),1)]),t.data.project?(R(),k(d,{ref:"xterm",class:"xterm",key:"tasks-xterm",id:t.terminalID,path:t.data.project.path},null,8,["id","path"])):j("",!0)])])])):j("",!0)}],["__scopeId","data-v-2d6f5dfa"]]))}}}))}();
