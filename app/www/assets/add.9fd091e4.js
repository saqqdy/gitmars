var E=Object.defineProperty,B=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var d=(t,e,o)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,m=(t,e)=>{for(var o in e||(e={}))j.call(e,o)&&d(t,o,e[o]);if(n)for(var o of n(e))w.call(e,o)&&d(t,o,e[o]);return t},l=(t,e)=>B(t,C(e));import{j as x,e as k,a3 as g,l as q,q as s,y as I,$ as b,u as _,a4 as D,a5 as P,k as V,V as S}from"./vendor/vue_3.2.31.js.e9245adf.js";import{u as $,b as M}from"./vendor/vue-router_4.0.12.js.afa27f3a.js";import{L as N}from"./vendor/element-plus_1.2.0-beta.6.js.97ff8a64.js";import{u as R}from"./use-current-instance.edd6d2ce.js";import{_ as T}from"./index.008d2370.js";import"./vendor/lodash_4.17.21.js.a759a9b5.js";import"./vendor/axios_0.24.0.js.76963283.js";import"./vendor/dayjs_1.10.7.js.553a1c6e.js";import"./vendor/async-validator_4.0.7.js.656181ea.js";import"./vendor/qs_6.10.3.js.780215ad.js";import"./vendor/side-channel_1.0.4.js.2b0c4128.js";import"./vendor/get-intrinsic_1.1.1.js.d604dad5.js";import"./vendor/has-symbols_1.0.2.js.208f1d3f.js";import"./vendor/function-bind_1.1.1.js.34bf890b.js";import"./vendor/has_1.0.3.js.e7f09f2c.js";import"./vendor/call-bind_1.0.2.js.ad02ab55.js";import"./vendor/object-inspect_1.12.0.js.ac6bd9c8.js";import"./vendor/js-cool_2.3.2.js.f1b7a643.js";import"./vendor/core-js_3.21.1.js.241fb21a.js";import"./vendor/uuid_8.3.2.js.8656f24a.js";import"./vendor/xterm_4.18.0.js.499cd352.js";import"./vendor/xterm-style_1.1.0.js.323fb105.js";import"./vendor/xterm-addon-fit_0.5.0.js.e3a24a28.js";import"./vendor/xterm-addon-search_0.8.2.js.1fbaabcf.js";import"./vendor/xterm-addon-web-links_0.4.0.js.e4a83512.js";import"./vendor/vuex_4.0.2.js.fcf5c9b3.js";const h=t=>(D("data-v-f48e2908"),t=t(),P(),t),U={class:"project-add"},A={class:"content"},K=h(()=>s("h2",null,"\u5BFC\u5165\u9879\u76EE",-1)),L={class:"fold"},z=h(()=>s("span",{class:"iconfont icon-plus-square-fill"},null,-1)),G=S("\u5BFC\u5165\u8BE5\u9879\u76EE"),H=[z,G],J={name:"ProjectAdd"},O=x(l(m({},J),{setup(t,{expose:e}){const{globalProperties:{$axios:o,$message:c}}=R(),f=$();M();const a=k({path:"/Users/saqqdy/www/saqqdy/gitmars"}),v=()=>new Promise((r,p)=>{o({url:"/common/project/check",data:{path:a.path}}).then(({data:{code:i,message:y}={}})=>{i!==0?(c({message:y,type:"error"}),r(!1)):r(!0)}).finally(()=>{r(!1)})}),u=async()=>{a.path||alert("\u8BF7\u8F93\u5165\u9879\u76EE\u5B8C\u6574\u8DEF\u5F84"),await v()&&o({url:"/common/project/add",type:"post",data:{path:a.path}}).then(()=>{c({message:"\u64CD\u4F5C\u6210\u529F\uFF01",type:"success"}),f.push("/project/list")})},{enter:F}=N();return g(()=>{F.value&&u()}),e({form:a,add:u}),(r,p)=>(V(),q("div",U,[s("div",A,[K,s("div",L,[I(s("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=i=>_(a).path=i),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u5B8C\u6574\u8DEF\u5F84"},null,512),[[b,_(a).path,void 0,{trim:!0}]])]),s("div",{class:"btn"},[s("a",{class:"link",href:"javascript:;",onClick:u,type:"button"},H)])])]))}}));var Ct=T(O,[["__scopeId","data-v-f48e2908"]]);export{Ct as default};
