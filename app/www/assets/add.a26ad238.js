var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{U as p,ah as c,ai as l,r as i,u as d,w as u,o as f,q as m,p as h,P as y,am as b,d as j,B as v,C as w,x as g}from"./vendor.89db70a2.js";import{u as O}from"./use-current-instance.f8863fef.js";import{_ as P}from"./index.323fdfce.js";const q=e=>(v("data-v-f48e2908"),e=e(),w(),e),x={class:"project-add"},k={class:"content"},U=q((()=>h("h2",null,"导入项目",-1))),_={class:"fold"},C=[q((()=>h("span",{class:"iconfont icon-plus-square-fill"},null,-1))),g("导入该项目")];const I=p(($=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))o.call(a,t)&&n(e,t,a[t]);return e})({},{name:"ProjectAdd"}),a($,t({setup:function(e,{expose:a}){const{globalProperties:{$axios:t,$message:s}}=O(),r=c();l();const o=i({path:"/Users/saqqdy/www/saqqdy/gitmars"}),n=async()=>{o.path||alert("请输入项目完整路径"),await new Promise(((e,a)=>{t({url:"/common/project/check",data:{path:o.path}}).then((({data:{code:a,message:t}={}})=>{0!==a?(s({message:t,type:"error"}),e(!1)):e(!0)})).finally((()=>{e(!1)}))}))&&t({url:"/common/project/add",type:"post",data:{path:o.path}}).then((()=>{s({message:"操作成功！",type:"success"}),r.push("/project/list")}))},{enter:p}=d();return u((()=>{p.value&&n()})),a({form:o,add:n}),(e,a)=>(f(),m("div",x,[h("div",k,[U,h("div",_,[y(h("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>j(o).path=e),placeholder:"请输入项目完整路径"},null,512),[[b,j(o).path,void 0,{trim:!0}]])]),h("div",{class:"btn"},[h("a",{class:"link",href:"javascript:;",onClick:n,type:"button"},C)])])]))}}))));var $,A=P(I,[["__scopeId","data-v-f48e2908"]]);export{A as default};
