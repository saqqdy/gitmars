var E=Object.defineProperty,B=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var d=(t,e,s)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,l=(t,e)=>{for(var s in e||(e={}))x.call(e,s)&&d(t,s,e[s]);if(i)for(var s of i(e))w.call(e,s)&&d(t,s,e[s]);return t},_=(t,e)=>B(t,C(e));import{d as j,r as g,m as k,q,y as I,x as a,L as b,a6 as D,u as m,I as P,J as S,b as V,C as M}from"./vendor/element-plus_2.1.8.js.544d1606.js";import{_ as N,u as T}from"./index.ab0c3978.js";import{u as U}from"./use-current-instance.732c790d.js";import"./vendor/dayjs_1.11.0.js.441fd857.js";import"./vendor/axios-ex_2.2.4.js.09bd27c1.js";import"./vendor/axios_0.24.0.js.52256a15.js";import"./vendor/lodash-es_4.17.21.js.5db20fff.js";import"./vendor/xterm_4.18.0.js.499cd352.js";import"./vendor/qs_6.10.3.js.e370f461.js";import"./vendor/uuid_8.3.2.js.8656f24a.js";const h=t=>(P("data-v-1638f226"),t=t(),S(),t),$={class:"project-add"},A={class:"content"},J=h(()=>a("h2",null,"\u5BFC\u5165\u9879\u76EE",-1)),K={class:"fold"},L=h(()=>a("span",{class:"iconfont icon-plus-square-fill"},null,-1)),R=M("\u5BFC\u5165\u8BE5\u9879\u76EE"),z=[L,R],G={name:"ProjectAdd"},H=j(_(l({},G),{setup(t,{expose:e}){const{globalProperties:{$axios:s,$message:p}}=U(),f=T(),o=g({path:"/Users/saqqdy/www/saqqdy/gitmars"}),v=()=>new Promise((u,c)=>{s({url:"/common/project/check",data:{path:o.path}}).then(({data:{code:n,message:y}={}})=>{n!==0?(p({message:y,type:"error"}),u(!1)):u(!0)}).finally(()=>{u(!1)})}),r=async()=>{o.path||alert("\u8BF7\u8F93\u5165\u9879\u76EE\u5B8C\u6574\u8DEF\u5F84"),await v()&&s({url:"/common/project/add",type:"post",data:{path:o.path}}).then(()=>{p({message:"\u64CD\u4F5C\u6210\u529F\uFF01",type:"success"}),f.push("/project/list")})},{enter:F}=k();return q(()=>{F.value&&r()}),e({form:o,add:r}),(u,c)=>(V(),I("div",$,[a("div",A,[J,a("div",K,[b(a("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=n=>m(o).path=n),placeholder:"\u8BF7\u8F93\u5165\u9879\u76EE\u5B8C\u6574\u8DEF\u5F84"},null,512),[[D,m(o).path,void 0,{trim:!0}]])]),a("div",{class:"btn"},[a("a",{class:"link",href:"javascript:;",type:"button",onClick:r},z)])])]))}}));var ut=N(H,[["__scopeId","data-v-1638f226"]]);export{ut as default};
