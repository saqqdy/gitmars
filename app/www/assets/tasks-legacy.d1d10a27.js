!function(){function e(e,n,t,a,r,c,o){try{var i=e[c](o),s=i.value}catch(d){return void t(d)}i.done?n(s):Promise.resolve(s).then(a,r)}function n(n){return function(){var t=this,a=arguments;return new Promise((function(r,c){var o=n.apply(t,a);function i(n){e(o,r,c,i,s,"next",n)}function s(n){e(o,r,c,i,s,"throw",n)}i(void 0)}))}}var t=document.createElement("style");t.innerHTML=".page[data-v-46505152]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page[data-v-46505152] .v3-collapse{border-top-color:#6a8bad}.page[data-v-46505152] .v3-collapse-item__content{color:#fff}.page[data-v-46505152] .v3-collapse-item__header,.page[data-v-46505152] .v3-collapse-item__wrap{border-bottom-color:#6a8bad;background:none;color:#fff}.page h1[data-v-46505152]{height:32px;padding:16px;line-height:32px;font-size:28px;font-weight:300;background:#344a5f;display:flex;justify-content:space-between;align-items:center}.page .cont[data-v-46505152]{flex:1;display:flex;overflow:hidden;justify-content:stretch;align-items:stretch}.page .cont .nav[data-v-46505152]{width:300px;overflow-y:auto;background:#2c3e50;height:100%}.page .cont .nav dl[data-v-46505152]{margin-bottom:10px}.page .cont .nav dt[data-v-46505152]{padding:0 16px;height:20px;line-height:20px;font-size:12px;color:#6a8bad}.page .cont .nav dd[data-v-46505152]{height:44px;line-height:44px;padding:0 16px;font-size:14px;display:flex;justify-content:space-between;align-items:center}.page .cont .nav dd[data-v-46505152]:hover{color:#fff;background:rgba(66,185,131,.05)}.page .cont .nav dd.active[data-v-46505152]{color:#42b983;background:rgba(66,185,131,.08)!important}.page .cont .main[data-v-46505152]{flex:1;padding:16px;background:#304457;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;height:100%}.page .cont .main h3[data-v-46505152]{font-size:18px;line-height:30px;margin-bottom:16px;font-weight:400;display:flex;justify-content:space-between;align-items:center}.page .cont .main h3 p[data-v-46505152]{font-size:12px;background:#2c3e50;line-height:18px;padding:8px;border-radius:3px}.page .cont .main .xterm[data-v-46505152]{height:calc(100% - 82px);min-height:408px}\n",document.head.appendChild(t),System.register(["./vendor/vue-router_4.0.12.js-legacy.f492a5ac.js","./index-legacy.25b7c7ca.js","./index-legacy.c00d1262.js","./use-current-instance-legacy.88226956.js","./vendor/vue_3.2.23.js-legacy.cab6a317.js","./vendor/element-plus_1.2.0-beta.3.js-legacy.981a4862.js","./vendor/lodash_4.17.21.js-legacy.975f7fe9.js","./vendor/xterm_4.15.0.js-legacy.4c228449.js","./vendor/dayjs_1.10.7.js-legacy.6093b1d6.js","./vendor/async-validator_4.0.7.js-legacy.4db26d33.js","./vendor/axios_0.24.0.js-legacy.e2791d74.js","./vendor/qs_6.10.1.js-legacy.583b1a92.js","./vendor/side-channel_1.0.4.js-legacy.285de11b.js","./vendor/get-intrinsic_1.1.1.js-legacy.cbed8f1c.js","./vendor/has-symbols_1.0.2.js-legacy.b04662aa.js","./vendor/function-bind_1.1.1.js-legacy.dd0fb47d.js","./vendor/has_1.0.3.js-legacy.f30f7bcd.js","./vendor/call-bind_1.0.2.js-legacy.2b18bb76.js","./vendor/object-inspect_1.11.0.js-legacy.1fe2e339.js","./vendor/js-cool_2.3.0.js-legacy.a3236d92.js","./vendor/core-js_3.19.1.js-legacy.1132431e.js","./vendor/uuid_8.3.2.js-legacy.5043e95d.js","./vendor/xterm-style_1.1.0.js-legacy.f8f2efde.js","./vendor/xterm-addon-fit_0.5.0.js-legacy.d755db6d.js","./vendor/xterm-addon-search_0.8.1.js-legacy.00f4c2d2.js","./vendor/xterm-addon-web-links_0.4.0.js-legacy.15c01a6a.js","./vendor/vuex_4.0.2.js-legacy.79be764b.js"],(function(e){"use strict";var t,a,r,c,o,i,s,d,u,l,p,f,g,v,j,h,m,y,x,b,_,k,w,z,C,I,R;return{setters:[function(e){t=e.u,a=e.b,r=e.o},function(e){c=e.X},function(e){o=e._,i=e.T,s=e.S},function(e){d=e.u},function(e){u=e.l,l=e.V,p=e.c,f=e.d,g=e.E,v=e.v,j=e.J,h=e.A,m=e.K,y=e.F,x=e.a1,b=e.I,_=e.O,k=e.z,w=e.a5,z=e.ah,C=e.ai,I=e.s,R=e.P},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var P={name:"ControlTasks",components:{Xterm:c},setup:function(){return n(regeneratorRuntime.mark((function e(){var c,o,g,v,j,h,m,y,x,b,_,k,w,z,C,I,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u(i,{}),o=c.getTerminal,g=u(s,{}),v=g.socket,j=d(),h=j.globalProperties.$axios,m=t(),y=a(),x=window.innerWidth,b=window.innerHeight,_=l({project:{id:"",name:"",path:""},scripts:[],terminal:{name:""},ready:!1}),k=p((function(){return"tasks-"+_.project.id})),f((function(){})),r((function(){})),w=function(){var e=n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({url:"/common/project/list",data:{id:y.query.id}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=n(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({url:"/cmd/fs/read",data:{path:"".concat(_.project.path,"/package.json")}});case 2:return n=e.sent,t=n.data.scripts,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){m.push("/project/list")},I=function(e){_.terminal&&v.emit(_.terminal.name+"-input"," ".concat(e,"\r"))},R=function(e){I("yarn run ".concat(e))},e.next=18,w();case 18:return _.project=e.sent,e.next=21,z();case 21:return _.scripts=e.sent,e.next=24,h({url:"/cmd/cd",data:{dir:_.project.path}});case 24:return _.terminal=o&&o(k.value,_.project.path,parseInt(String((x-60-300-32)/7.05)),parseInt(String((b-64-32-34)/17.6))),_.ready=!0,e.abrupt("return",{data:_,terminalID:k,back:C,exec:I,run:R,route:y});case 27:case"end":return e.stop()}}),e)})))()}},S=function(e){return z("data-v-46505152"),e=e(),C(),e},T={key:0,class:"page"},X=w(" tasks "),q=w("返回"),D={class:"cont"},E={class:"nav"},H={key:0,class:"bugfix"},O=S((function(){return j("dt",null,"脚本指令",-1)})),A=w("执行"),F={class:"main"},J=S((function(){return j("span",null,[j("span",{class:"iconfont icon-layout"}),w(" 当前分支： ")],-1)}));e("default",o(P,[["render",function(e,n,t,a,r,c){var o=g("v3-button"),i=g("Xterm");return a.data.ready?(I(),v("div",T,[j("h1",null,[X,j("p",null,[h(o,{type:"default",onClick:a.back},{default:m((function(){return[q]})),_:1},8,["onClick"])])]),j("div",D,[j("div",E,[Object.keys(a.data.scripts).length>0?(I(),v("dl",H,[O,(I(!0),v(y,null,x(a.data.scripts,(function(e,n){return I(),v("dd",{class:R({active:!1}),key:n},[w(_(n)+" ",1),h(o,{type:"primary",size:"mini",onClick:function(e){return a.run(n)},plain:""},{default:m((function(){return[A]})),_:2},1032,["onClick"])])})),128))])):b("",!0)]),j("div",F,[j("h3",null,[J,j("p",null,_(a.data.project.path),1)]),a.data.project?(I(),k(i,{ref:"xterm",class:"xterm",key:"tasks-xterm",id:a.terminalID,path:a.data.project.path},null,8,["id","path"])):b("",!0)])])])):b("",!0)}],["__scopeId","data-v-46505152"]]))}}}))}();
