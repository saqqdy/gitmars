!function(){function t(t,e,n,a,r,i,c){try{var o=t[i](c),u=o.value}catch(s){return void n(s)}o.done?e(u):Promise.resolve(u).then(a,r)}function e(e){return function(){var n=this,a=arguments;return new Promise((function(r,i){var c=e.apply(n,a);function o(e){t(c,r,i,o,u,"next",e)}function u(e){t(c,r,i,o,u,"throw",e)}o(void 0)}))}}var n=document.createElement("style");n.innerHTML=".page[data-v-46505152]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page[data-v-46505152] .v3-collapse{border-top-color:#6a8bad}.page[data-v-46505152] .v3-collapse-item__content{color:#fff}.page[data-v-46505152] .v3-collapse-item__header,.page[data-v-46505152] .v3-collapse-item__wrap{border-bottom-color:#6a8bad;background:none;color:#fff}.page h1[data-v-46505152]{height:32px;padding:16px;line-height:32px;font-size:28px;font-weight:300;background:#344a5f;display:flex;justify-content:space-between;align-items:center}.page .cont[data-v-46505152]{flex:1;display:flex;overflow:hidden;justify-content:stretch;align-items:stretch}.page .cont .nav[data-v-46505152]{width:300px;overflow-y:auto;background:#2c3e50;height:100%}.page .cont .nav dl[data-v-46505152]{margin-bottom:10px}.page .cont .nav dt[data-v-46505152]{padding:0 16px;height:20px;line-height:20px;font-size:12px;color:#6a8bad}.page .cont .nav dd[data-v-46505152]{height:44px;line-height:44px;padding:0 16px;font-size:14px;display:flex;justify-content:space-between;align-items:center}.page .cont .nav dd[data-v-46505152]:hover{color:#fff;background:rgba(66,185,131,.05)}.page .cont .nav dd.active[data-v-46505152]{color:#42b983;background:rgba(66,185,131,.08)!important}.page .cont .main[data-v-46505152]{flex:1;padding:16px;background:#304457;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch;height:100%}.page .cont .main h3[data-v-46505152]{font-size:18px;line-height:30px;margin-bottom:16px;font-weight:normal;display:flex;justify-content:space-between;align-items:center}.page .cont .main h3 p[data-v-46505152]{font-size:12px;background:#2c3e50;line-height:18px;padding:8px;border-radius:3px}.page .cont .main .xterm[data-v-46505152]{height:calc(100% - 82px);min-height:408px}\n",document.head.appendChild(n),System.register(["./vendor-legacy.c44ab313.js","./index-legacy.e56397a0.js","./index-legacy.a53a249d.js","./use-current-instance-legacy.dc391dd4.js"],(function(t){"use strict";var n,a,r,i,c,o,u,s,p,d,l,f,g,h,m,v,x,y,b,k,j,w,_,C,z,R,I;return{setters:[function(t){n=t.N,a=t.ah,r=t.ai,i=t.r,c=t.c,o=t.K,u=t.aq,s=t.j,p=t.q,d=t.p,l=t.e,f=t.m,g=t.F,h=t.ak,m=t.s,v=t.y,x=t.k,y=t.x,b=t.B,k=t.C,j=t.o,w=t.v},function(t){_=t.X},function(t){C=t._,z=t.T,R=t.S},function(t){I=t.u}],execute:function(){var S={name:"ControlTasks",components:{Xterm:_},setup:function(){return e(regeneratorRuntime.mark((function t(){var s,p,d,l,f,g,h,m,v,x,y,b,k,j,w,_,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(z,{}),p=s.getTerminal,d=n(R,{}),l=d.socket,f=I(),g=f.globalProperties.$axios,h=a(),m=r(),v=window.innerWidth,x=window.innerHeight,y=i({project:{id:"",name:"",path:""},scripts:[],terminal:{name:""},ready:!1}),b=c((function(){return"tasks-"+y.project.id})),o((function(){})),u((function(){})),k=function(){var t=e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g({url:"/common/project/list",data:{id:m.query.id}});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=e(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g({url:"/cmd/fs/read",data:{path:"".concat(y.project.path,"/package.json")}});case 2:return e=t.sent,n=e.data.scripts,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){h.push("/project/list")},_=function(t){y.terminal&&l.emit(y.terminal.name+"-input"," ".concat(t,"\r"))},C=function(t){_("yarn run ".concat(t))},t.next=18,k();case 18:return y.project=t.sent,t.next=21,j();case 21:return y.scripts=t.sent,t.next=24,g({url:"/cmd/cd",data:{dir:y.project.path}});case 24:return y.terminal=p&&p(b.value,y.project.path,parseInt(String((v-60-300-32)/7.05)),parseInt(String((x-64-32-34)/17.6))),y.ready=!0,t.abrupt("return",{data:y,terminalID:b,back:w,exec:_,run:C,route:m});case 27:case"end":return t.stop()}}),t)})))()}},T=function(t){return b("data-v-46505152"),t=t(),k(),t},q={key:0,class:"page"},P=y(" tasks "),X=y("返回"),D={class:"cont"},H={class:"nav"},B={key:0,class:"bugfix"},E=T((function(){return d("dt",null,"脚本指令",-1)})),F=y("执行"),K={class:"main"},L=T((function(){return d("span",null,[d("span",{class:"iconfont icon-layout"}),y(" 当前分支： ")],-1)}));t("default",C(S,[["render",function(t,e,n,a,r,i){var c=s("v3-button"),o=s("Xterm");return a.data.ready?(j(),p("div",q,[d("h1",null,[P,d("p",null,[l(c,{type:"default",onClick:a.back},{default:f((function(){return[X]})),_:1},8,["onClick"])])]),d("div",D,[d("div",H,[Object.keys(a.data.scripts).length>0?(j(),p("dl",B,[E,(j(!0),p(g,null,h(a.data.scripts,(function(t,e){return j(),p("dd",{class:w({active:!1}),key:e},[y(v(e)+" ",1),l(c,{type:"primary",size:"mini",onClick:function(t){return a.run(e)},plain:""},{default:f((function(){return[F]})),_:2},1032,["onClick"])])})),128))])):m("",!0)]),d("div",K,[d("h3",null,[L,d("p",null,v(a.data.project.path),1)]),a.data.project?(j(),x(o,{ref:"xterm",class:"xterm",key:"tasks-xterm",id:a.terminalID,path:a.data.project.path},null,8,["id","path"])):m("",!0)])])])):m("",!0)}],["__scopeId","data-v-46505152"]]))}}}))}();
