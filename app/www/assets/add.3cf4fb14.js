var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{M as p,aa as c,ab as l,r as i,o as d,j as h,i as u,J as f,af as m,u as b,v as w,x as j,q as v}from"./vendor.e07efed3.js";import{u as y}from"./use-current-instance.c580ffd2.js";import{_ as x}from"./index.81c77b83.js";const g=e=>(w("data-v-8a05ec0e"),e=e(),j(),e),O={class:"project-add"},P={class:"content"},q=g((()=>u("h2",null,"导入项目",-1))),k={class:"fold"},M=[g((()=>u("span",{class:"iconfont icon-plus-square-fill"},null,-1))),v("导入该项目")];const _=p((B=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&n(e,t,a[t]);return e})({},{name:"ProjectAdd"}),a(B,t({setup:function(e,{expose:a}){const{globalProperties:{$axios:t,$box:s}}=y(),o=c();l();const r=i({path:"/Users/saqqdy/www/saqqdy/gitmars"}),n=async()=>{r.path||alert("请输入项目完整路径"),await new Promise(((e,a)=>{t({url:"/common/project/check",data:{path:r.path}}).then((({data:{code:a,message:t}={}})=>{0!==a?(s(null,{width:"320px",height:"80px",message:t,showHeader:!1,showMax:!1,showBtn:!1}),e(!1)):e(!0)})).finally((()=>{e(!1)}))}))&&t({url:"/common/project/add",type:"post",data:{path:r.path}}).then((()=>{s(null,{width:"320px",height:"80px",message:"操作成功！",showHeader:!1,showMax:!1,showBtn:!1}),o.push("/project/list")}))};return a({form:r,add:n}),(e,a)=>(d(),h("div",O,[u("div",P,[q,u("div",k,[f(u("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>b(r).path=e),placeholder:"请输入项目完整路径"},null,512),[[m,b(r).path,void 0,{trim:!0}]])]),u("div",{class:"btn"},[u("a",{class:"link",href:"javascript:;",onClick:n,type:"button"},M)])])]))}}))));var B,H=x(_,[["__scopeId","data-v-8a05ec0e"]]);export{H as default};
